<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>HN Game - Sudoku</title>

<meta name="description" content="Game tritue Sudoku c·ª±c hay">
<meta name="keywords" content="game Sudoku, tritue, game Vi·ªát, HN Game, mi·ªÖn ph√≠, game online, web game">
<meta property="og:title" content="Game tritue Sudoku - HN Game">
<meta property="og:description" content="Ch∆°i game Sudoku ho√†n to√†n mi·ªÖn ph√≠, vui nh·ªôn v√† h·∫•p d·∫´n.">
<meta property="og:image" content="../image/sudoku.png">
<meta property="og:url" content="www.hngame.store/game/sudoku/webapp">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Game tritue Sudoku">
<meta name="twitter:description" content="Ch∆°i game Sudoku ho√†n to√†n mi·ªÖn ph√≠, vui nh·ªôn v√† h·∫•p d·∫´n.">
<meta name="twitter:image" content="../image/sudoku.png">

<style>
  html, body {background: #0f172a;color: #e2e8f0;font-family: 'Arial', sans-serif;margin: 0;padding: 0;}
  header {text-align: center;padding: 20px;background: #1e293b;color: #fff;}
  nav {background: #334155;display: flex;justify-content: center;flex-wrap: wrap;gap: 15px;padding: 10px 0;}
  nav a {color: #f8fafc;text-decoration: none;padding: 8px 14px;border-radius: 6px;transition: 0.3s;}
  nav a:hover {background: #60a5fa;color: #fff;}
  main {max-width: 1200px;margin: 20px auto;padding: 0 15px;justify-content: center;}
  .fullscreen-button {padding: 10px 20px;margin-top: 8px;font-size: 16px;border: none;border-radius: 8px;cursor: pointer;background: #444;color: #fff;justify-content: center;align-self: center;}
  .fullscreen-button:hover {background: #666;}
  .section {background: #1e293b;border-radius: 10px;padding: 20px;margin-bottom: 20px;}
  .section h2 {color: #60a5fa;margin-top: 0;}
  .game-container {display: flex;flex-direction: column;justify-content: center;background: #1e293b;border-radius: 12px;text-align: center;}
  .download-section {background: linear-gradient(135deg, #0f172a, #1e293b);border-radius: 14px;padding: 25px 30px;margin-bottom: 30px;box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);}
  .download-container {display: flex;align-items: center;justify-content: space-between;gap: 20px;flex-wrap: wrap;}
  .download-text h2 {color: #60a5fa;margin: 0;font-size: 26px;}
  .download-text p {color: #cbd5e1;font-size: 16px;margin-top: 6px;}
  .download-button {width: 175px;height: 50px;background: none;border: none;cursor: pointer;transition: transform 0.25s ease, box-shadow 0.25s ease;border-radius: 12px;}
  .download-button:hover {transform: scale(1.05);box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);}
  .download-icon {width: 175px;height: 50px;object-fit: contain;}
  canvas#canvas {display: block;background: #000;border: 2px solid #334155;border-radius: 10px;width: 486px;  /* 9:16 */height: 864px;margin: 0 auto;}
  @media (max-width: 768px) { 
    .game-container {width: 100%;display: flex;flex-direction: column;align-items: center;justify-content: center;}
    canvas#canvas {width: 90%;height: calc(90% * 16 / 9);border: 2px solid #334155;border-radius: 10px;background: #000;}
    .download-container {flex-direction: column;align-items: center;text-align: center;}
    .download-text h2 {font-size: 22px;}
    .download-button {width: 220px;height: 65px;}
    .download-icon {width: 220px;height: 65px;}
  }
  footer {text-align: center;padding: 20px;background: #1e293b;color: #94a3b8;font-size: 14px;}
  * {box-sizing: border-box;max-width: 100vw;}
</style>

</head>

<body oncontextmenu="return false" onload="start()">
<header>
  <h1>HN Game</h1>
  <p>Kho game Vi·ªát ch·∫•t l∆∞·ª£ng - ch∆°i mi·ªÖn ph√≠, gi·∫£i tr√≠ m·ªói ng√†y</p>
</header>

<nav>
  <a href="../../../index.html">Trang ch·ªß</a>
  <a href="../../../chienthuat.html">Game chi·∫øn thu·∫≠t</a>
  <a href="../../../hanhdong.html">Game h√†nh ƒë·ªông</a>
  <a href="../../../tritue.html">Game tr√≠ tu·ªá</a>
  <a href="../../../thethao.html">Game th·ªÉ thao</a>
  <a href="../../../lienhe.html">Li√™n h·ªá</a>
</nav>

<main>

  <section class="download-section">
    <div class="download-container">
      <div class="download-text">
        <h2>üöÄ T·∫£i game ngay</h2>
        <p>Tr·∫£i nghi·ªám mi·ªÖn ph√≠ tr√™n Android ‚Äì b·∫Øt ƒë·∫ßu h√†nh tr√¨nh chinh ph·ª•c c·ªßa b·∫°n!</p>
      </div>

      <button class="download-button"
        onclick="window.open('https://play.google.com/store/apps/details?id=com.hngame.sudoku', '_blank')">
        <img src="../../../image/icon_button_download.png" alt="T·∫£i game Android" class="download-icon" />
      </button>
    </div>
  </section>
  
  <section class="section">
    <h2>üéÆ Gi·ªõi thi·ªáu game</h2>
    <p><strong>Sudoku</strong>  ... </p>
  </section>

  <section class="game-container">
  <div style="height:20px;"></div>
    <canvas id="canvas" width=1080 height=1920></canvas>
    <div style="height:10px;"></div>
    <button id="fullscreen-btn" class="fullscreen-button">üñ•Ô∏è Full m√†n h√¨nh.</button>
    <div style="height:10px;"></div>
  </section>

  <div style="height:30px;"></div>

  <section class="section">
    <h2>üìú H∆∞·ªõng d·∫´n ch∆°i</h2>
    <ul>
      
    </ul>
  </section>
</main>

<footer>
  &copy; 2025 HN Game. T·∫•t c·∫£ b·∫£n quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.
</footer>

<script type="text/javascript" charset="utf-8" src="teavm/app.js"></script>

<script>
const canvas = document.getElementById("canvas");
const fullBtn = document.getElementById("fullscreen-btn");
const LOGICAL_WIDTH = 1080;
const LOGICAL_HEIGHT = 1920;

const scale = Math.ceil(window.innerHeight / 1080)+1;


function isMobile() {
  return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent);
}

function resizeCanvas() {
    const full = !!document.fullscreenElement;
    const dpr = window.devicePixelRatio || 1;
	const mobile = isMobile();
    let canvasW, canvasH;

    if (full) {
        const screenW = window.innerWidth;
        const screenH = window.innerHeight;
        const screenRatio = screenW / screenH;
        const targetRatio = LOGICAL_WIDTH / LOGICAL_HEIGHT;

        if (screenRatio > targetRatio) {
            // M√†n h√¨nh qu√° r·ªông ‚Üí canvas cao b·∫±ng m√†n h√¨nh
            canvasH = screenH * 0.9; // 90% chi·ªÅu cao
            canvasW = canvasH * targetRatio;
        } else {
            // M√†n h√¨nh qu√° cao ‚Üí canvas r·ªông b·∫±ng m√†n h√¨nh
            canvasW = screenW * 0.9; // 90% chi·ªÅu r·ªông
            canvasH = canvasW / targetRatio;
        }

        // G√°n style canvas v√† canh gi·ªØa
		console.log("canvasW:",canvasW)
		console.log("canvasH:",canvasH)
		
        canvas.style.width = canvasW + "px";
        canvas.style.height = canvasH + "px";
        canvas.style.margin = "auto";
        canvas.style.display = "block";

        // G√°n ƒë·ªô ph√¢n gi·∫£i v·∫≠t l√Ω cho canvas
        canvas.width = LOGICAL_WIDTH;
        canvas.height = LOGICAL_HEIGHT;

        // ·∫®n overflow v√† c·ªë ƒë·ªãnh body
        document.documentElement.style.overflow = "hidden";
        document.body.style.overflow = "hidden";
        document.body.style.position = "fixed";
        document.body.style.width = "100%";
    } else {
		document.body.style.position = "";
		document.body.style.width = "";
		canvas.width = LOGICAL_WIDTH;
		canvas.height = LOGICAL_HEIGHT;
		
			if (mobile) {
			  canvas.style.width = "90%";
			  canvas.style.height = "calc(90% * 16 / 9)";
			} else {
			  canvas.style.width = "486px";
			  canvas.style.height = "864px";
			}
		document.documentElement.style.overflowX = "hidden";
		document.body.style.overflowX = "hidden";
		document.documentElement.style.overflowY = "auto";
		document.body.style.overflowY = "auto";
    }
}

function getCanvasCoords(evt) {
  const rect = canvas.getBoundingClientRect();
  const scaleX = LOGICAL_WIDTH / rect.width;
  const scaleY = LOGICAL_HEIGHT / rect.height;

  let clientX, clientY;
  if (evt.touches && evt.touches.length > 0) {
    clientX = evt.touches[0].clientX;
    clientY = evt.touches[0].clientY;
  } else {
    clientX = evt.clientX;
    clientY = evt.clientY;
  }

  return {
    x: (clientX - rect.left) * scaleX,
    y: (clientY - rect.top) * scaleY,
  };
}


["mousedown", "touchstart"].forEach(ev =>
  canvas.addEventListener(ev, e => {
    e.preventDefault();
    resizeCanvas();
    const p = getCanvasCoords(e);
    if (typeof gameTouchStart === "function") gameTouchStart(p.x, p.y);
  })
);
["mouseup", "touchend"].forEach(ev =>
  canvas.addEventListener(ev, e => {
    e.preventDefault();
    if (typeof gameTouchEnd === "function") gameTouchEnd();
  })
);
canvas.addEventListener("touchmove", e => {
  e.preventDefault();
  const p = getCanvasCoords(e);
  if (typeof gameTouchMove === "function") gameTouchMove(p.x, p.y);
});

fullBtn.addEventListener("click", async () => {
  try {
    if (canvas.requestFullscreen) await canvas.requestFullscreen();
    else if (canvas.webkitRequestFullscreen) await canvas.webkitRequestFullscreen();
  } catch (e) {
    console.error("Fullscreen error:", e);
  }
});

["resize", "orientationchange"].forEach(ev =>
  window.addEventListener(ev, () => setTimeout(resizeCanvas, 200))
);

document.addEventListener("fullscreenchange", resizeCanvas);

function start() {
  resizeCanvas();
  if (typeof main === "function") main();
}
window.addEventListener("load", start);
</script>

</body>
</html>