<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>HN Game - Sudoku</title>

<meta name="description" content="Game tritue Sudoku cá»±c hay">
<meta name="keywords" content="game Sudoku, tritue, game Viá»‡t, HN Game, miá»…n phÃ­, game online, web game">
<meta property="og:title" content="Game tritue Sudoku - HN Game">
<meta property="og:description" content="ChÆ¡i game Sudoku hoÃ n toÃ n miá»…n phÃ­, vui nhá»™n vÃ  háº¥p dáº«n.">
<meta property="og:image" content="../image/sudoku.png">
<meta property="og:url" content="www.hngame.store/game/sudoku/webapp">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Game tritue Sudoku">
<meta name="twitter:description" content="ChÆ¡i game Sudoku hoÃ n toÃ n miá»…n phÃ­, vui nhá»™n vÃ  háº¥p dáº«n.">
<meta name="twitter:image" content="../image/sudoku.png">

<style>
Â  html, body {
        background: #0f172a;
        color: #e2e8f0;
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        /* ThÃªm style Ä‘á»ƒ body cÃ³ thá»ƒ co giÃ£n khi fullscreen */
        height: 100%;
        width: 100%;
    }
Â  header {text-align: center;padding: 20px;background: #1e293b;color: #fff;}
Â  nav {background: #334155;display: flex;justify-content: center;flex-wrap: wrap;gap: 15px;padding: 10px 0;}
Â  nav a {color: #f8fafc;text-decoration: none;padding: 8px 14px;border-radius: 6px;transition: 0.3s;}
Â  nav a:hover {background: #60a5fa;color: #fff;}
Â  main {max-width: 1200px;margin: 20px auto;padding: 0 15px;justify-content: center;}
Â  .fullscreen-button {padding: 10px 20px;margin-top: 8px;font-size: 16px;border: none;border-radius: 8px;cursor: pointer;background: #444;color: #fff;justify-content: center;align-self: center;}
Â  .fullscreen-button:hover {background: #666;}
Â  .section {background: #1e293b;border-radius: 10px;padding: 20px;margin-bottom: 20px;}
Â  .section h2 {color: #60a5fa;margin-top: 0;}
Â  .game-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        background: #1e293b;
        border-radius: 12px;
        text-align: center;
        /* Thiáº¿t láº­p láº¡i chiá»u rá»™ng/chiá»u cao máº·c Ä‘á»‹nh (sáº½ bá»‹ JS ghi Ä‘Ã¨) */
        width: auto;
        height: auto;
    }
Â  .download-section {background: linear-gradient(135deg, #0f172a, #1e293b);border-radius: 14px;padding: 25px 30px;margin-bottom: 30px;box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);}
Â  .download-container {display: flex;align-items: center;justify-content: space-between;gap: 20px;flex-wrap: wrap;}
Â  .download-text h2 {color: #60a5fa;margin: 0;font-size: 26px;}
Â  .download-text p {color: #cbd5e1;font-size: 16px;margin-top: 6px;}
Â  .download-button {width: 175px;height: 50px;background: none;border: none;cursor: pointer;transition: transform 0.25s ease, box-shadow 0.25s ease;border-radius: 12px;}
Â  .download-button:hover {transform: scale(1.05);box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);}
Â  .download-icon {width: 175px;height: 50px;object-fit: contain;}
Â  canvas#canvas {
        display: block;
        background: #000;
        border: 2px solid #334155;
        border-radius: 10px;
        /* CÃ¡c thuá»™c tÃ­nh nÃ y sáº½ Ä‘Æ°á»£c JS ghi Ä‘Ã¨ vÃ  tÃ­nh toÃ¡n chÃ­nh xÃ¡c */
        width: 486px; 
        height: 864px;
        margin: 0 auto;
    }
Â  @media (max-width: 768px) {Â 
Â  Â  .game-container {width: 100%;display: flex;flex-direction: column;align-items: center;justify-content: center;}
Â  Â  canvas#canvas {
        width: 90%;
        height: auto;
        aspect-ratio: 9/16; /* DÃ¹ng aspect-ratio cho mobile view máº·c Ä‘á»‹nh */
        border: 2px solid #334155;
        border-radius: 10px;
        background: #000;
    }
Â  Â  .download-container {flex-direction: column;align-items: center;text-align: center;}
Â  Â  .download-text h2 {font-size: 22px;}
Â  Â  .download-button {width: 220px;height: 65px;}
Â  Â  .download-icon {width: 220px;height: 65px;}
Â  }
Â  footer {text-align: center;padding: 20px;background: #1e293b;color: #94a3b8;font-size: 14px;}
Â  * {box-sizing: border-box;max-width: 100vw;}
</style>

</head>

<body oncontextmenu="return false" onload="start()">
<header>
Â  <h1>HN Game</h1>
Â  <p>Kho game Viá»‡t cháº¥t lÆ°á»£ng - chÆ¡i miá»…n phÃ­, giáº£i trÃ­ má»—i ngÃ y</p>
</header>

<nav>
Â  <a href="../../../index.html">Trang chá»§</a>
Â  <a href="../../../chienthuat.html">Game chiáº¿n thuáº­t</a>
Â  <a href="../../../hanhdong.html">Game hÃ nh Ä‘á»™ng</a>
Â  <a href="../../../tritue.html">Game trÃ­ tuá»‡</a>
Â  <a href="../../../thethao.html">Game thá»ƒ thao</a>
Â  <a href="../../../lienhe.html">LiÃªn há»‡</a>
</nav>

<main>

Â  <section class="download-section">
Â  Â  <div class="download-container">
Â  Â  Â  <div class="download-text">
Â  Â  Â  Â  <h2>ğŸš€ Táº£i game ngay</h2>
Â  Â  Â  Â  <p>Tráº£i nghiá»‡m miá»…n phÃ­ trÃªn Android â€“ báº¯t Ä‘áº§u hÃ nh trÃ¬nh chinh phá»¥c cá»§a báº¡n!</p>
Â  Â  Â  </div>

Â  Â  Â  <button class="download-button"
Â  Â  Â  Â  onclick="window.open('https://play.google.com/store/apps/details?id=com.hngame.sudoku', '_blank')">
Â  Â  Â  Â  <img src="../../../image/icon_button_download.png" alt="Táº£i game Android" class="download-icon" />
Â  Â  Â  </button>
Â  Â  </div>
Â  </section>
Â Â 
Â  <section class="section">
Â  Â  <h2>ğŸ® Giá»›i thiá»‡u game</h2>
Â  Â  <p><strong>Sudoku</strong>Â  ... </p>
Â  </section>

Â  <section class="game-container">
Â  <div style="height:20px;"></div>
Â  Â  <canvas id="canvas" width=1080 height=1920></canvas>
Â  Â  <div style="height:10px;"></div>
Â  Â  <button id="fullscreen-btn" class="fullscreen-button">ğŸ–¥ï¸ Full mÃ n hÃ¬nh.</button>
Â  Â  <div style="height:10px;"></div>
Â  </section>

Â  <div style="height:30px;"></div>

Â  <section class="section">
Â  Â  <h2>ğŸ“œ HÆ°á»›ng dáº«n chÆ¡i</h2>
Â  Â  <ul>
Â  Â  Â Â 
Â  Â  </ul>
Â  </section>
</main>

<footer>
Â  &copy; 2025 HN Game. Táº¥t cáº£ báº£n quyá»n Ä‘Æ°á»£c báº£o lÆ°u.
</footer>

<script type="text/javascript" charset="utf-8" src="teavm/app.js"></script>

<script>
const canvas = document.getElementById("canvas");
const fullBtn = document.getElementById("fullscreen-btn");

// Äá»˜ PHÃ‚N GIáº¢I Ná»˜I Táº I CHUáº¨N (KHÃ”NG Äá»”I)
const LOGICAL_WIDTH = 1080;
const LOGICAL_HEIGHT = 1920;


function isMobile() {
Â  return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent);
}

function resizeCanvas() {
    const isFullscreen = !!document.fullscreenElement;
    
    // LuÃ´n giá»¯ Ä‘á»™ phÃ¢n giáº£i ná»™i táº¡i cá»‘ Ä‘á»‹nh
    canvas.width = LOGICAL_WIDTH;
    canvas.height = LOGICAL_HEIGHT;

    if (isFullscreen) {
        // Láº¥y kÃ­ch thÆ°á»›c cá»­a sá»•/mÃ n hÃ¬nh hiá»‡n táº¡i
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        
        const screenRatio = windowWidth / windowHeight;
        const gameRatio = LOGICAL_WIDTH / LOGICAL_HEIGHT;

        let newCssWidth, newCssHeight;

        // TÃ­nh toÃ¡n Ä‘á»ƒ giá»¯ tá»· lá»‡ 9:16 (Letterboxing)
        if (screenRatio > gameRatio) {
            // MÃ n hÃ¬nh bÃ¨ hÆ¡n game (thá»«a khÃ´ng gian ngang)
            newCssHeight = windowHeight;
            newCssWidth = newCssHeight * gameRatio;
        } else {
            // MÃ n hÃ¬nh dÃ i hÆ¡n game (thá»«a khÃ´ng gian dá»c)
            newCssWidth = windowWidth;
            newCssHeight = newCssWidth / gameRatio;
        }

        // Ãp dá»¥ng kÃ­ch thÆ°á»›c hiá»ƒn thá»‹ (CSS)
        canvas.style.width = newCssWidth + "px";
        canvas.style.height = newCssHeight + "px";
        
        // CÄƒn giá»¯a tuyá»‡t Ä‘á»‘i trÃªn mÃ n hÃ¬nh
        canvas.style.position = "absolute";
        canvas.style.top = "50%";
        canvas.style.left = "50%";
        canvas.style.transform = "translate(-50%, -50%)";
        canvas.style.margin = "0";
        canvas.style.border = "none"; // Bá» border khi fullscreen

        // Thiáº¿t láº­p ná»n Ä‘en cho pháº§n khÃ´ng gian thá»«a
        document.body.style.overflow = "hidden";
        document.body.style.backgroundColor = "#000"; 
        document.documentElement.style.overflow = "hidden";
        
    } else {
        // Cháº¿ Ä‘á»™ cá»­a sá»• bÃ¬nh thÆ°á»ng
        document.body.style.overflow = "";
        document.body.style.backgroundColor = "#0f172a"; // Äáº·t láº¡i mÃ u ná»n chuáº©n
        document.documentElement.style.overflow = "auto";
        
        // Reset láº¡i CSS cho canvas
        canvas.style.position = "";
        canvas.style.top = "";
        canvas.style.left = "";
        canvas.style.transform = "";
        canvas.style.margin = "0 auto";
        canvas.style.border = "2px solid #334155";
        
        // KÃ­ch thÆ°á»›c hiá»ƒn thá»‹ á»Ÿ cháº¿ Ä‘á»™ thÆ°á»ng (theo CSS Media Query)
        if (isMobile()) {
            canvas.style.width = "90%";
            canvas.style.height = "auto"; 
            canvas.style.aspectRatio = "9/16";
        } else {
            canvas.style.width = "486px";
            canvas.style.height = "864px";
        }
    }
}

function getCanvasCoords(evt) {
  const rect = canvas.getBoundingClientRect();
  
  // TÃ­nh tá»· lá»‡ giá»¯a Ä‘á»™ phÃ¢n giáº£i game (LOGICAL_WIDTH/HEIGHT) vÃ  kÃ­ch thÆ°á»›c hiá»ƒn thá»‹ (rect.width/height)
  const scaleX = LOGICAL_WIDTH / rect.width;
  const scaleY = LOGICAL_HEIGHT / rect.height;

  let clientX, clientY;
  if (evt.touches && evt.touches.length > 0) {
    clientX = evt.touches[0].clientX;
    clientY = evt.touches[0].clientY;
  } else {
    clientX = evt.clientX;
    clientY = evt.clientY;
  }

  // CÃ´ng thá»©c: (Tá»a Ä‘á»™ chuá»™t/cháº¡m - Tá»a Ä‘á»™ mÃ©p Canvas) * Tá»· lá»‡ co giÃ£n
  return {
    x: (clientX - rect.left) * scaleX,
    y: (clientY - rect.top) * scaleY,
  };
}


// --- EVENT LISTENERS ---

// Xá»­ lÃ½ Input (dÃ¹ng passive: false Ä‘á»ƒ Ä‘áº£m báº£o preventDefault hoáº¡t Ä‘á»™ng)
["mousedown", "touchstart"].forEach(ev =>
  canvas.addEventListener(ev, e => {
    e.preventDefault(); 
    if(document.fullscreenElement) resizeCanvas(); // Resize láº¡i 1 láº§n ná»¯a trong FS Ä‘á»ƒ fix bug trÃªn vÃ i browser

    const p = getCanvasCoords(e);
    if (typeof gameTouchStart === "function") gameTouchStart(p.x, p.y);
  }, {passive: false})
);

["mouseup", "touchend"].forEach(ev =>
  canvas.addEventListener(ev, e => {
    e.preventDefault();
    if (typeof gameTouchEnd === "function") gameTouchEnd();
  }, {passive: false})
);

canvas.addEventListener("touchmove", e => {
  e.preventDefault();
  const p = getCanvasCoords(e);
  if (typeof gameTouchMove === "function") gameTouchMove(p.x, p.y);
}, {passive: false});


// Xá»­ lÃ½ Fullscreen
fullBtn.addEventListener("click", async () => {
  try {
    if (!document.fullscreenElement) {
        // Request fullscreen cho toÃ n bá»™ document (tháº» HTML)
        if (document.documentElement.requestFullscreen) await document.documentElement.requestFullscreen();
        else if (document.documentElement.webkitRequestFullscreen) await document.documentElement.webkitRequestFullscreen();
    } else {
        if (document.exitFullscreen) await document.exitFullscreen();
    }
  } catch (e) {
    console.error("Fullscreen error:", e);
  }
});

// Láº¯ng nghe sá»± kiá»‡n thay Ä‘á»•i kÃ­ch thÆ°á»›c/xoay mÃ n hÃ¬nh/fullscreen
["resize", "orientationchange", "fullscreenchange", "webkitfullscreenchange"].forEach(ev =>
  window.addEventListener(ev, () => {
      // Delay nhá» Ä‘á»ƒ browser cáº­p nháº­t layout xong má»›i tÃ­nh toÃ¡n láº¡i
      setTimeout(resizeCanvas, 100);
  })
);

function start() {
  resizeCanvas();
  // Khá»Ÿi Ä‘á»™ng hÃ m main cá»§a game (teavm/app.js)
  if (typeof main === "function") main(); 
}

// Báº¯t Ä‘áº§u sau khi táº£i trang
window.addEventListener("load", start);
</script>

</body>
</html>