<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>HN Game - C√¥ng Th√†nh Chi·∫øn</title>

<meta name="description" content="Game chi·∫øn thu·∫≠t C√¥ng Th√†nh Chi·∫øn c·ª±c hay">
<meta name="keywords" content="game C√¥ng Th√†nh Chi·∫øn, chi·∫øn thu·∫≠t, game Vi·ªát, HN Game, mi·ªÖn ph√≠, game online, web game">
<meta property="og:title" content="Game chi·∫øn thu·∫≠t C√¥ng Th√†nh Chi·∫øn - HN Game">
<meta property="og:description" content="Ch∆°i game C√¥ng Th√†nh Chi·∫øn ho√†n to√†n mi·ªÖn ph√≠, vui nh·ªôn v√† h·∫•p d·∫´n.">
<meta property="og:image" content="../image/congthanh.png">
<meta property="og:url" content="www.hngame.store/game/congthanh/webapp">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Game chi·∫øn thu·∫≠t C√¥ng Th√†nh Chi·∫øn">
<meta name="twitter:description" content="Ch∆°i game C√¥ng Th√†nh Chi·∫øn ho√†n to√†n mi·ªÖn ph√≠, vui nh·ªôn v√† h·∫•p d·∫´n.">
<meta name="twitter:image" content="../image/congthanh.png">

<style>
  body { background:#0f172a; color:#e2e8f0; font-family:'Arial',sans-serif; margin:0; padding:0; }
  header{text-align:center;padding:20px;background:#1e293b;color:#fff;}
  nav{background:#334155;display:flex;justify-content:center;flex-wrap:wrap;gap:15px;padding:10px 0;}
  nav a{color:#f8fafc;text-decoration:none;padding:8px 14px;border-radius:6px;transition:0.3s;}
  nav a:hover{background:#60a5fa;color:#fff;}
  main{max-width:1200px;margin:20px auto;padding:0 15px;}
  .section{background:#1e293b;border-radius:10px;padding:20px;margin-bottom:20px;}
  .section h2{color:#60a5fa;margin-top:0;}
  .game-container{display:flex;flex-direction:column;align-items:center;background:#1e293b;border-radius:12px;padding:20px;}
  footer{text-align:center;padding:20px;background:#1e293b;color:#94a3b8;font-size:14px;}
  .fullscreen-button{margin-top:10px;padding:10px 20px;background:#3b82f6;border:none;border-radius:8px;color:white;font-size:16px;cursor:pointer;transition:background 0.2s;}
  .fullscreen-button:hover{background:#2563eb;}
  canvas#canvas {
    width: 486px;
    height: 864px;
    border: 2px solid #334155;
    border-radius: 10px;
    background: #000;
    display: block;
    margin: 0 auto;
  }

  /* D√†nh cho mobile */
  @media (max-width: 768px) {
    canvas#canvas {
      width: 90vw;                /* Chi·∫øm 90% chi·ªÅu r·ªông m√†n h√¨nh */
      height: calc(90vw * 16 / 9); /* T·ª± t√≠nh chi·ªÅu cao theo t·ªâ l·ªá 9:16 */
      border: 2px solid #334155;
      border-radius: 10px;
      background: #000;
    }
  }

</style>
</head>

<body oncontextmenu="return false" onload="start()">
<header>
  <h1>HN Game</h1>
  <p>Kho game Vi·ªát ch·∫•t l∆∞·ª£ng - ch∆°i mi·ªÖn ph√≠, gi·∫£i tr√≠ m·ªói ng√†y</p>
</header>

<nav>
  <a href="../../../index.html">Trang ch·ªß</a>
  <a href="../../../chienthuat.html">Game chi·∫øn thu·∫≠t</a>
  <a href="../../../hanhdong.html">Game h√†nh ƒë·ªông</a>
  <a href="../../../tritue.html">Game tr√≠ tu·ªá</a>
  <a href="../../../thethao.html">Game th·ªÉ thao</a>
  <a href="../../../lienhe.html">Li√™n h·ªá</a>
</nav>

<main>
  <section class="section">
    <h2>üéÆ Gi·ªõi thi·ªáu game</h2>
    <p><strong>C√¥ng Th√†nh Chi·∫øn</strong> l√† tr√≤ ch∆°i tr√≠ tu·ªá ƒë·ªânh cao, l·ª±a ch·ªçn c·ªßa b·∫°n quy·∫øt ƒë·ªãnh v·∫≠n m·ªánh c·ªßa b·∫°n, h√£y ch∆°i h·∫øt m√¨nh ƒë·ªÉ ti·∫øn ƒë·∫øn ƒëinh cao.</p>
  </section>

  <section class="game-container">
    <canvas id="canvas" width="1080" height="1920"></canvas>
    <div style="height:10px;"></div>
    <button id="fullscreen-btn" class="fullscreen-button">üñ•Ô∏è Full m√†n h√¨nh.</button>
  </section>

  <div style="height:30px;"></div>

  <section class="section">
    <h2>üìú H∆∞·ªõng d·∫´n ch∆°i</h2>
    <ul>
      <li>gh√©p c√°c item v·ªõi nhau ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c gi√° tr·ªã t∆∞∆°ng ·ª©ng.</li>
      <li>Game match-3 huy·ªÅn tho·∫°i.</li>
    </ul>
  </section>
</main>

<footer>
  &copy; 2025 HN Game. T·∫•t c·∫£ b·∫£n quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.
</footer>

<script type="text/javascript" charset="utf-8" src="teavm/app.js"></script>

<script>
// ====== Kh·ªüi ƒë·ªông game TeaVM ======
async function start() {
  if (typeof main === "function") main(); // H√†m main() do TeaVM build
}
window.addEventListener("load", start);

// ====== X·ª≠ l√Ω fullscreen + touch ======
const canvas = document.getElementById("canvas");
const fullBtn = document.getElementById("fullscreen-btn");

// --- H√†m ki·ªÉm tra mobile ---
function isMobile() {
  return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent);
}

// --- Resize canvas (desktop + mobile) ---
function resizeCanvas() {
  if (document.fullscreenElement) {
    // N·∫øu ƒëang fullscreen
    if (isMobile()) {
      // Tr√™n mobile ch·ªâ scale b·∫±ng CSS, tr√°nh resize canvas n·ªôi b·ªô
      canvas.style.width = "100vw";
      canvas.style.height = "100vh";
    } else {
      // Desktop: c·∫≠p nh·∫≠t k√≠ch th∆∞·ªõc th·∫≠t
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      canvas.style.width = "100%";
      canvas.style.height = "100%";
    }
  } else {
    // Tho√°t fullscreen ‚Üí tr·ªü v·ªÅ k√≠ch th∆∞·ªõc m·∫∑c ƒë·ªãnh
    canvas.width = 1080;
    canvas.height = 1920;
    canvas.style.width = "486px";
    canvas.style.height = "864px";
  }

  if (typeof gameResize === "function") {
    gameResize(canvas.width, canvas.height);
  }
}

// --- Fullscreen button ---
fullBtn.addEventListener("click", async () => {
  try {
    if (canvas.requestFullscreen) await canvas.requestFullscreen();
    else if (canvas.webkitRequestFullscreen) await canvas.webkitRequestFullscreen();
    else if (canvas.msRequestFullscreen) await canvas.msRequestFullscreen();

    // ƒê·ª£i m·ªôt ch√∫t cho tr√¨nh duy·ªát ·ªïn ƒë·ªãnh layout (mobile c·∫ßn)
    setTimeout(resizeCanvas, 150);
  } catch (e) {
    console.error("Fullscreen error:", e);
  }
});

// --- Khi thay ƒë·ªïi fullscreen ho·∫∑c orientation ---
document.addEventListener("fullscreenchange", () => setTimeout(resizeCanvas, 150));
window.addEventListener("resize", () => setTimeout(resizeCanvas, 150));
window.addEventListener("orientationchange", () => setTimeout(resizeCanvas, 300));

// --- Chu·∫©n h√≥a t·ªça ƒë·ªô touch/mouse ---
function getCanvasCoords(evt) {
  const rect = canvas.getBoundingClientRect();
  const scaleX = canvas.width / rect.width;
  const scaleY = canvas.height / rect.height;
  let x, y;
  if (evt.touches && evt.touches.length > 0) {
    x = (evt.touches[0].clientX - rect.left) * scaleX;
    y = (evt.touches[0].clientY - rect.top) * scaleY;
  } else {
    x = (evt.clientX - rect.left) * scaleX;
    y = (evt.clientY - rect.top) * scaleY;
  }
  return { x, y };
}

// --- B·∫Øt s·ª± ki·ªán touch v√† mouse ---
canvas.addEventListener("touchstart", e => {
  e.preventDefault();
  const p = getCanvasCoords(e);
  if (typeof gameTouchStart === "function") gameTouchStart(p.x, p.y);
});
canvas.addEventListener("touchmove", e => {
  e.preventDefault();
  const p = getCanvasCoords(e);
  if (typeof gameTouchMove === "function") gameTouchMove(p.x, p.y);
});
canvas.addEventListener("touchend", e => {
  e.preventDefault();
  if (typeof gameTouchEnd === "function") gameTouchEnd();
});
canvas.addEventListener("mousedown", e => {
  const p = getCanvasCoords(e);
  if (typeof gameTouchStart === "function") gameTouchStart(p.x, p.y);
});
canvas.addEventListener("mouseup", e => {
  if (typeof gameTouchEnd === "function") gameTouchEnd();
});
</script>


</body>
</html>