<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>HN Game - CÃ´ng ThÃ nh Chiáº¿n</title>

<meta name="description" content="Game chienthuat CÃ´ng ThÃ nh Chiáº¿n cá»±c hay">
<meta name="keywords" content="game CÃ´ng ThÃ nh Chiáº¿n, chienthuat, game Viá»‡t, HN Game, miá»…n phÃ­, game online, web game">
<meta property="og:title" content="Game chienthuat CÃ´ng ThÃ nh Chiáº¿n - HN Game">
<meta property="og:description" content="ChÆ¡i game CÃ´ng ThÃ nh Chiáº¿n hoÃ n toÃ n miá»…n phÃ­, vui nhá»™n vÃ  háº¥p dáº«n.">
<meta property="og:image" content="../image/congthanh.png">
<meta property="og:url" content="www.hngame.store/game/congthanh/webapp">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Game chienthuat CÃ´ng ThÃ nh Chiáº¿n">
<meta name="twitter:description" content="ChÆ¡i game CÃ´ng ThÃ nh Chiáº¿n hoÃ n toÃ n miá»…n phÃ­, vui nhá»™n vÃ  háº¥p dáº«n.">
<meta name="twitter:image" content="../image/congthanh.png">

<style>
  html, body {background: #0f172a;color: #e2e8f0;font-family: 'Arial', sans-serif;margin: 0;padding: 0;}
  header {text-align: center;padding: 20px;background: #1e293b;color: #fff;}
  nav {background: #334155;display: flex;justify-content: center;flex-wrap: wrap;gap: 15px;padding: 10px 0;}
  nav a {color: #f8fafc;text-decoration: none;padding: 8px 14px;border-radius: 6px;transition: 0.3s;}
  nav a:hover {background: #60a5fa;color: #fff;}
  main {max-width: 1200px;margin: 20px auto;padding: 0 15px;justify-content: center;}
  .fullscreen-button {padding: 10px 20px;margin-top: 8px;font-size: 16px;border: none;border-radius: 8px;cursor: pointer;background: #444;color: #fff;justify-content: center;align-self: center;}
  .fullscreen-button:hover {background: #666;}
  .section {background: #1e293b;border-radius: 10px;padding: 20px;margin-bottom: 20px;}
  .section h2 {color: #60a5fa;margin-top: 0;}
  .game-container {display: flex;flex-direction: column;justify-content: center;background: #1e293b;border-radius: 12px;text-align: center;}
  
  canvas#canvas {
    display: block;
    background: #000;
    border: 2px solid #334155;
    border-radius: 10px;
    width: 486px;  /* 9:16 */
    height: 864px;
    margin: 0 auto;
  }
  @media (max-width: 768px) { 
    .game-container {width: 100%;display: flex;flex-direction: column;align-items: center;justify-content: center;}
    canvas#canvas {
      width: 90%;
      height: calc(90% * 16 / 9);
      border: 2px solid #334155;
      border-radius: 10px;
      background: #000;
    }
  }
  footer {text-align: center;padding: 20px;background: #1e293b;color: #94a3b8;font-size: 14px;}
  * {box-sizing: border-box;max-width: 100vw;}
</style>
</head>

<body oncontextmenu="return false" onload="start()">
<header>
  <h1>HN Game</h1>
  <p>Kho game Viá»‡t cháº¥t lÆ°á»£ng - chÆ¡i miá»…n phÃ­, giáº£i trÃ­ má»—i ngÃ y</p>
</header>

<nav>
  <a href="../../../index.html">Trang chá»§</a>
  <a href="../../../chienthuat.html">Game chiáº¿n thuáº­t</a>
  <a href="../../../hanhdong.html">Game hÃ nh Ä‘á»™ng</a>
  <a href="../../../tritue.html">Game trÃ­ tuá»‡</a>
  <a href="../../../thethao.html">Game thá»ƒ thao</a>
  <a href="../../../lienhe.html">LiÃªn há»‡</a>
</nav>

<main>
  <!-- ğŸ® Giá»›i thiá»‡u game -->
  <section class="section">
    <h2>ğŸ® Giá»›i thiá»‡u game</h2>
    <p>
      <strong>Tháº§n Tá»™c Song Chiáº¿n</strong> â€“ bÆ°á»›c vÃ o tháº¿ giá»›i <em>Tháº§n Tá»™c Song Äáº¥u</em>, nÆ¡i nhá»¯ng vá»‹ anh hÃ¹ng sá»Ÿ há»¯u sá»©c máº¡nh nguyÃªn tá»‘ chiáº¿n Ä‘áº¥u vÃ¬ vinh quang cá»§a tá»™c mÃ¬nh!
    </p>

    <ul>
      <li><strong>ğŸ”¥ Lá»‘i chÆ¡i káº¿t há»£p Ä‘á»™c Ä‘Ã¡o:</strong> GhÃ©p 3 viÃªn ngá»c cÃ¹ng mÃ u Ä‘á»ƒ tung chiÃªu, kÃ­ch hoáº¡t ká»¹ nÄƒng, hoáº·c táº¡o combo phÃ¡ huá»· toÃ n bÃ n!</li>
      <li><strong>ğŸŒªï¸ Há»‡ thá»‘ng nguyÃªn tá»‘ phong phÃº:</strong> Lá»­a, BÄƒng, Thá»•, Má»™c â€“ má»—i nguyÃªn tá»‘ má»Ÿ ra chiáº¿n thuáº­t riÃªng biá»‡t.</li>
      <li><strong>âš”ï¸ Chiáº¿n Ä‘áº¥u RPG ká»‹ch tÃ­nh:</strong> Thu tháº­p, nÃ¢ng cáº¥p, tiáº¿n hoÃ¡ anh hÃ¹ng cá»§a báº¡n. Káº¿t há»£p ká»¹ nÄƒng thÃ´ng minh Ä‘á»ƒ Ä‘Ã¡nh báº¡i boss khá»§ng.</li>
      <li><strong>ğŸ¨ Äá»“ há»a sá»‘ng Ä‘á»™ng:</strong> Hiá»‡u á»©ng ká»¹ nÄƒng bÃ¹ng ná»•, hÃ¬nh áº£nh nhÃ¢n váº­t Ä‘Æ°á»£c thiáº¿t káº¿ tinh xáº£o, mang Ä‘áº¿n tráº£i nghiá»‡m mÃ£n nhÃ£n.</li>
    </ul>
  </section>

  <section class="game-container">
    <div style="height:20px;"></div>
    <canvas id="canvas" width="1080" height="1920"></canvas>
    <div style="height:10px;"></div>
    <button id="fullscreen-btn" class="fullscreen-button">ğŸ–¥ï¸ Full mÃ n hÃ¬nh</button>
    <div style="height:10px;"></div>
  </section>

  <div style="height:30px;"></div>

  <section class="section">
    <h2>ğŸ“œ HÆ°á»›ng dáº«n chÆ¡i</h2>
    <ul>
      <li>ğŸ”¹ GhÃ©p cÃ¡c viÃªn ngá»c cÃ¹ng mÃ u Ä‘á»ƒ táº¡o combo vÃ  tung chiÃªu Ä‘áº·c biá»‡t.</li>
      <li>ğŸ”¹ Má»—i nguyÃªn tá»‘ cÃ³ ká»¹ nÄƒng riÃªng â€” káº¿t há»£p chiáº¿n thuáº­t Ä‘á»ƒ vÆ°á»£t qua cÃ¡c tráº­n Ä‘áº¥u khÃ³.</li>
      <li>ğŸ”¹ Thu tháº­p anh hÃ¹ng má»›i, nÃ¢ng cáº¥p sá»©c máº¡nh vÃ  má»Ÿ khÃ³a ká»¹ nÄƒng tá»‘i thÆ°á»£ng.</li>
      <li>ğŸ”¹ Sá»­ dá»¥ng váº­t pháº©m há»— trá»£ thÃ´ng minh Ä‘á»ƒ giÃ nh chiáº¿n tháº¯ng nhanh hÆ¡n.</li>
      <li>ğŸ”¹ Äá»«ng quÃªn hoÃ n thÃ nh nhiá»‡m vá»¥ ngÃ y Ä‘á»ƒ nháº­n thÆ°á»Ÿng háº¥p dáº«n!</li>
    </ul>
  </section>
</main>


<footer>
  &copy; 2025 HN Game. Táº¥t cáº£ báº£n quyá»n Ä‘Æ°á»£c báº£o lÆ°u.
</footer>

<script type="text/javascript" charset="utf-8" src="teavm/app.js"></script>

<script>
const canvas = document.getElementById("canvas");
const fullBtn = document.getElementById("fullscreen-btn");
const LOGICAL_WIDTH = 1080;
const LOGICAL_HEIGHT = 1920;

function isMobile() {
  return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent);
}

// === Resize canvas hiá»ƒn thá»‹ ===
function resizeCanvas() {
  const full = !!document.fullscreenElement;
  const mobile = isMobile();
  const dpr = window.devicePixelRatio || 1;
  
  if (full) {
    if (isMobile()) {
      // Giá»¯ Ä‘Ãºng tá»· lá»‡ 9:16
      const screenRatio = window.innerWidth / window.innerHeight;
      const targetRatio = LOGICAL_WIDTH / LOGICAL_HEIGHT;
      let w, h;

      if (screenRatio > targetRatio) {
        h = window.innerHeight;
        w = h * targetRatio;
      } else {
        w = window.innerWidth;
        h = w / targetRatio;
      }

      // Canvas hiá»ƒn thá»‹
      canvas.style.width = w + "px";
      canvas.style.height = h + "px";

      // Canvas thá»±c (pixel váº­t lÃ½)
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);

      canvas.style.margin = "auto";
      canvas.style.display = "block";
    } else {
      canvas.style.width = "100%";
      canvas.style.height = "100%";
      canvas.width = LOGICAL_WIDTH;
      canvas.height = LOGICAL_HEIGHT;
    }
    document.documentElement.style.overflow = "hidden";
    document.body.style.overflow = "hidden";
    document.body.style.position = "fixed";
    document.body.style.width = "100%";
  } else {
    document.body.style.position = "";
    document.body.style.width = "";
    canvas.width = LOGICAL_WIDTH;
    canvas.height = LOGICAL_HEIGHT;
    
        if (mobile) {
          canvas.style.width = "90%";
          canvas.style.height = "calc(90% * 16 / 9)";
        } else {
          canvas.style.width = "486px";
          canvas.style.height = "864px";
        }
    document.documentElement.style.overflowX = "hidden";
    document.body.style.overflowX = "hidden";
    document.documentElement.style.overflowY = "auto";
    document.body.style.overflowY = "auto";
  }
}


function getCanvasCoords(evt) {
  const rect = canvas.getBoundingClientRect();
  const scaleX = LOGICAL_WIDTH / rect.width;
  const scaleY = LOGICAL_HEIGHT / rect.height;

  let clientX, clientY;
  if (evt.touches && evt.touches.length > 0) {
    clientX = evt.touches[0].clientX;
    clientY = evt.touches[0].clientY;
  } else {
    clientX = evt.clientX;
    clientY = evt.clientY;
  }

  return {
    x: (clientX - rect.left) * scaleX,
    y: (clientY - rect.top) * scaleY,
  };
}

["mousedown", "touchstart"].forEach(ev =>
  canvas.addEventListener(ev, e => {
    e.preventDefault();
    resizeCanvas();
    const p = getCanvasCoords(e);
    if (typeof gameTouchStart === "function") gameTouchStart(p.x, p.y);
  })
);
["mouseup", "touchend"].forEach(ev =>
  canvas.addEventListener(ev, e => {
    e.preventDefault();
    if (typeof gameTouchEnd === "function") gameTouchEnd();
  })
);
canvas.addEventListener("touchmove", e => {
  e.preventDefault();
  const p = getCanvasCoords(e);
  if (typeof gameTouchMove === "function") gameTouchMove(p.x, p.y);
});

// === Fullscreen toggle ===
fullBtn.addEventListener("click", async () => {
  try {
    if (canvas.requestFullscreen) await canvas.requestFullscreen();
    else if (canvas.webkitRequestFullscreen) await canvas.webkitRequestFullscreen();
    setTimeout(resizeCanvas, 200);
  } catch (e) {
    console.error("Fullscreen error:", e);
  }
});

// === Event thay Ä‘á»•i kÃ­ch thÆ°á»›c / xoay / fullscreen ===
["resize", "orientationchange", "fullscreenchange"].forEach(ev =>
  window.addEventListener(ev, () => setTimeout(resizeCanvas, 200))
);

// === Khá»Ÿi Ä‘á»™ng TeaVM game ===
function start() {
  resizeCanvas();
  if (typeof main === "function") main();
}
window.addEventListener("load", start);
</script>

</body>
</html>